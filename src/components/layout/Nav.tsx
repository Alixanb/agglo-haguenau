import { cn } from "@/lib/utils";
import { Url } from "next/dist/shared/lib/router/router";
import Link from "next/link";
import React from "react";

interface NavSVG {
  [key: string]: {
    outline: React.ReactNode;
    fill: React.ReactNode;
  };
}

/**
 *
 * @tutorial Presets Google icons: W:500, G: 0, OS: 40
 */
const NavSVG: NavSVG = {
  home: {
    outline: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 -960 960 960"
        width="24"
      >
        <path d="M242-200h108.85v-201.54q0-20.36 14.39-34.76 14.4-14.39 34.76-14.39h160q20.36 0 34.76 14.39 14.39 14.4 14.39 34.76V-200H718v-351.85q0-3.07-1.35-5.57-1.34-2.5-3.65-4.43L487.31-731q-3.08-2.69-7.31-2.69-4.23 0-7.31 2.69L247-561.85q-2.31 1.93-3.65 4.43-1.35 2.5-1.35 5.57V-200Zm-86 0v-351.85q0-23.4 10.61-44.35 10.6-20.94 29.31-34.49l225.7-169.54q26.95-19.46 58.32-19.46t58.44 19.46l225.7 169.54q18.71 13.55 29.31 34.49Q804-575.25 804-551.85V-200q0 36.54-24.73 61.27Q754.54-114 718-114H572.31q-20.37 0-34.76-14.4-14.4-14.39-14.4-34.76v-201.53h-86.3v201.53q0 20.37-14.4 34.76-14.39 14.4-34.76 14.4H242q-36.54 0-61.27-24.73Q156-163.46 156-200Zm324-267.23Z" />
      </svg>
    ),
    fill: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 -960 960 960"
        width="24"
      >
        <path d="M156-200v-351.85q0-23.17 10.68-44.03 10.69-20.87 29.24-34.81l225.7-169.54q26.95-19.46 58.32-19.46t58.44 19.46l225.7 169.54q18.55 13.94 29.24 34.81Q804-575.02 804-551.85V-200q0 36.54-24.73 61.27Q754.54-114 718-114H615.31q-20.37 0-34.76-14.4-14.4-14.39-14.4-34.76v-195.38q0-20.36-14.39-34.76-14.39-14.39-34.76-14.39h-74q-20.37 0-34.76 14.39-14.39 14.4-14.39 34.76v195.38q0 20.37-14.4 34.76-14.39 14.4-34.76 14.4H242q-36.54 0-61.27-24.73Q156-163.46 156-200Z" />
      </svg>
    ),
  },
  news: {
    outline: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M162.87-111.87q-37.78 0-64.39-26.61t-26.61-64.39v-554.26q0-37.78 26.61-64.39t64.39-26.61h634.26q37.78 0 64.39 26.61t26.61 64.39v554.26q0 37.78-26.61 64.39t-64.39 26.61H162.87Zm0-91h634.26v-554.26H162.87v554.26Zm118.45-78.56h397.36q16.89 0 28.39-11.5t11.5-28.5q0-17-11.5-28.5t-28.39-11.5H281.32q-16.89 0-28.39 11.5t-11.5 28.5q0 17 11.5 28.5t28.39 11.5Zm.11-158.57h80q17 0 28.5-11.5t11.5-28.5v-158.57q0-17-11.5-28.5t-28.5-11.5h-80q-17 0-28.5 11.5t-11.5 28.5V-480q0 17 11.5 28.5t28.5 11.5ZM520-440h158.57q17 0 28.5-11.5t11.5-28.5q0-17-11.5-28.5t-28.5-11.5H520q-17 0-28.5 11.5T480-480q0 17 11.5 28.5T520-440Zm0-158.57h158.57q17 0 28.5-11.5t11.5-28.5q0-17-11.5-28.5t-28.5-11.5H520q-17 0-28.5 11.5t-11.5 28.5q0 17 11.5 28.5t28.5 11.5Zm-357.13 395.7v-554.26 554.26Z" />
      </svg>
    ),
    fill: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M162.87-111.87q-37.78 0-64.39-26.61t-26.61-64.39v-554.26q0-37.78 26.61-64.39t64.39-26.61h634.26q37.78 0 64.39 26.61t26.61 64.39v554.26q0 37.78-26.61 64.39t-64.39 26.61H162.87Zm118.45-169.56h397.36q16.89 0 28.39-11.5t11.5-28.5q0-17-11.5-28.5t-28.39-11.5H281.32q-16.89 0-28.39 11.5t-11.5 28.5q0 17 11.5 28.5t28.39 11.5Zm.11-158.57h80q17 0 28.5-11.5t11.5-28.5v-158.57q0-17-11.5-28.5t-28.5-11.5h-80q-17 0-28.5 11.5t-11.5 28.5V-480q0 17 11.5 28.5t28.5 11.5ZM520-440h158.57q17 0 28.5-11.5t11.5-28.5q0-17-11.5-28.5t-28.5-11.5H520q-17 0-28.5 11.5T480-480q0 17 11.5 28.5T520-440Zm0-158.57h158.57q17 0 28.5-11.5t11.5-28.5q0-17-11.5-28.5t-28.5-11.5H520q-17 0-28.5 11.5t-11.5 28.5q0 17 11.5 28.5t28.5 11.5Z" />
      </svg>
    ),
  },
  agenda: {
    outline: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 -960 960 960"
        width="24"
      >
        <path d="M206.31-70q-41.03 0-69.67-28.64T108-168.31v-547.38q0-41.03 28.64-69.67T206.31-814h23.38v-36.85q0-18.15 12.81-30.96 12.81-12.8 30.96-12.8 18.16 0 30.96 12.8 12.81 12.81 12.81 30.96V-814h327.08v-37.61q0-17.77 12.61-30.39 12.62-12.61 30.39-12.61 17.77 0 30.38 12.61 12.62 12.62 12.62 30.39V-814h23.38q41.03 0 69.67 28.64T852-715.69v547.38q0 41.03-28.64 69.67T753.69-70H206.31Zm0-86h547.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-399.38H194v399.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85ZM194-653.69h572v-62q0-4.62-3.85-8.46-3.84-3.85-8.46-3.85H206.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v62Zm0 0V-728v74.31Zm286 262.77q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.04 0-16.69 12.34-29.04 12.35-12.34 29.04-12.34 16.69 0 29.04 12.34 12.34 12.35 12.34 29.04 0 16.7-12.34 29.04-12.35 12.35-29.04 12.35Zm-160 0q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.04 0-16.69 12.34-29.04 12.35-12.34 29.04-12.34 16.69 0 29.04 12.34 12.34 12.35 12.34 29.04 0 16.7-12.34 29.04-12.35 12.35-29.04 12.35Zm320 0q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.04 0-16.69 12.34-29.04 12.35-12.34 29.04-12.34 16.69 0 29.04 12.34 12.34 12.35 12.34 29.04 0 16.7-12.34 29.04-12.35 12.35-29.04 12.35ZM480-234q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.03 0-16.7 12.34-29.04 12.35-12.35 29.04-12.35 16.69 0 29.04 12.35 12.34 12.34 12.34 29.04 0 16.69-12.34 29.03Q496.69-234 480-234Zm-160 0q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.03 0-16.7 12.34-29.04 12.35-12.35 29.04-12.35 16.69 0 29.04 12.35 12.34 12.34 12.34 29.04 0 16.69-12.34 29.03Q336.69-234 320-234Zm320 0q-16.69 0-29.04-12.35-12.34-12.34-12.34-29.03 0-16.7 12.34-29.04 12.35-12.35 29.04-12.35 16.69 0 29.04 12.35 12.34 12.34 12.34 29.04 0 16.69-12.34 29.03Q656.69-234 640-234Z" />
      </svg>
    ),
    fill: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M189.06-73.3q-31 0-53.38-22.38-22.38-22.38-22.38-53.38v-595.22q0-31.06 22.38-53.48 22.38-22.43 53.38-22.43h54.27v-29.69q0-15.55 10.8-26.26 10.79-10.72 26.29-10.72 15.79 0 26.62 10.72 10.84 10.71 10.84 26.26v29.69h324.24v-29.69q0-15.55 10.8-26.26 10.79-10.72 26.29-10.72 15.78 0 26.62 10.72 10.84 10.71 10.84 26.26v29.69h54.27q31.06 0 53.49 22.43 22.43 22.42 22.43 53.48v595.22q0 31-22.43 53.38Q802-73.3 770.94-73.3H189.06Zm0-75.76h581.88v-417.61H189.06v417.61Zm290.96-249.35q-17.67 0-29.64-11.95-11.97-11.95-11.97-29.62t11.95-29.64q11.95-11.97 29.62-11.97t29.64 11.95q11.97 11.95 11.97 29.62t-11.95 29.64q-11.95 11.97-29.62 11.97Zm-160 0q-17.67 0-29.64-11.95-11.97-11.95-11.97-29.62t11.95-29.64q11.95-11.97 29.62-11.97t29.64 11.95q11.97 11.95 11.97 29.62t-11.95 29.64q-11.95 11.97-29.62 11.97Zm320 0q-17.34 0-29.48-11.95-12.13-11.95-12.13-29.62t12.12-29.64q12.12-11.97 29.57-11.97 17.46 0 29.48 11.95 12.01 11.95 12.01 29.62t-11.95 29.64q-11.95 11.97-29.62 11.97Zm-160 160q-17.67 0-29.64-12.12-11.97-12.12-11.97-29.57 0-17.46 11.95-29.48 11.95-12.01 29.62-12.01t29.64 11.95q11.97 11.95 11.97 29.62 0 17.34-11.95 29.48-11.95 12.13-29.62 12.13Zm-160 0q-17.67 0-29.64-12.12-11.97-12.12-11.97-29.57 0-17.46 11.95-29.48 11.95-12.01 29.62-12.01t29.64 11.95q11.97 11.95 11.97 29.62 0 17.34-11.95 29.48-11.95 12.13-29.62 12.13Zm320 0q-17.34 0-29.48-12.12-12.13-12.12-12.13-29.57 0-17.46 12.12-29.48 12.12-12.01 29.57-12.01 17.46 0 29.48 11.95 12.01 11.95 12.01 29.62 0 17.34-11.95 29.48-11.95 12.13-29.62 12.13Z" />
      </svg>
    ),
  },
  alert: {
    outline: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24"
        viewBox="0 -960 960 960"
        width="24"
      >
        <path d="M191-172.62q-17.75 0-30.37-12.62Q148-197.87 148-215.63q0-17.75 12.63-30.37 12.62-12.61 30.37-12.61h29.31v-300.47q0-88.69 54.81-158.69 54.8-70 140.88-92.31V-827q0-26.67 18.69-45.33Q453.38-891 480.07-891q26.7 0 45.31 18.67Q544-853.67 544-827v16.92q86.08 22.31 141.38 91.61 55.31 69.3 55.31 159.39v300.47H770q17.75 0 30.37 12.62Q813-233.36 813-215.6q0 17.75-12.63 30.37-12.62 12.61-30.37 12.61H191Zm290-323.07Zm-1.1 447.38q-34.82 0-59.51-24.76-24.7-24.77-24.7-59.55h168.62q0 34.93-24.8 59.62-24.79 24.69-59.61 24.69Zm-173.59-210.3h348.38v-300.47q0-72.46-51.19-123.07-51.2-50.62-123.58-50.62t-123 50.62q-50.61 50.61-50.61 123.07v300.47Z" />
      </svg>
    ),
    fill: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M197.37-191.87q-19.15 0-32.33-13.17-13.17-13.18-13.17-32.33t13.17-32.33q13.18-13.17 32.33-13.17H229v-271.87q0-86.11 51.32-153.6 51.31-67.49 134.18-88.2v-26.09q0-27.39 19.05-46.45 19.06-19.05 46.45-19.05 27.39 0 46.45 19.05 19.05 19.06 19.05 46.45v26.09q83.11 20.71 134.3 88.08Q731-641.09 731-554.74v271.87h31.63q19.15 0 32.33 13.17 13.17 13.18 13.17 32.33t-13.17 32.33q-13.18 13.17-32.33 13.17H197.37ZM480.24-69.24q-34.2 0-58.53-24.22-24.34-24.21-24.34-58.41h165.5q0 34.2-24.22 58.41-24.22 24.22-58.41 24.22Z" />
      </svg>
    ),
  },
  settings: {
    outline: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M428.46-71.87q-28.2 0-48.54-18.6-20.33-18.6-24.33-45.79l-9-66.24q-11.09-4.28-21.04-10.33-9.94-6.04-19.51-12.84l-61.76 26q-25.95 11.24-52.15 2.12-26.2-9.12-40.67-33.32l-51.55-90.37q-14.48-23.96-8.36-51.03 6.12-27.08 28.08-44.56l52.76-40q-.76-6.04-.76-11.58v-23.18q0-5.54.76-11.58l-52.76-39.76q-22.2-17.48-28.2-44.56-6-27.08 8.48-51.27l51.55-90.13q14.47-23.96 40.55-33.2 26.08-9.24 52.03 2l62.48 26q9.57-6.8 19.65-12.73 10.09-5.92 20.42-10.2l9-66.48q4-27.43 24.33-46.03 20.34-18.6 48.54-18.6h103.08q28.2 0 48.54 18.6 20.33 18.6 24.33 46.03l9 66.48q11.09 4.28 21.04 10.2 9.94 5.93 19.51 12.73l61.76-26q25.95-11.24 52.15-2t40.67 33.2l51.55 90.13q14.48 24.19 8.48 51.27-6 27.08-28.2 44.56l-53 39.76q.76 6.04.76 11.58V-480q0 6.04-.12 11.59-.12 5.54-1.64 11.58l53 39.76q22.2 17.48 28.2 44.56 6 27.08-8.48 51.27l-52.55 90.37q-14.47 23.96-40.55 33.2-26.08 9.24-52.03-2l-60.48-26q-9.57 6.8-19.65 12.84-10.09 6.05-20.42 10.33l-9 66.24q-4 27.19-24.33 45.79-20.34 18.6-48.54 18.6H428.46Zm14.17-91h73.5l14.24-105.52q31.24-8 58.34-23.62 27.09-15.62 49.09-38.58l98.77 41 36.13-63.69-85.29-64.52q5-14.48 7.24-30.22 2.24-15.74 2.24-31.98 0-16.24-2.24-31.98-2.24-15.74-7.24-30.22l85.76-64.52-36.6-63.69-98.53 42q-22-23.72-49.09-39.58-27.1-15.86-58.58-23.62l-13-105.52h-73.98l-13.52 105.28q-31.72 7.76-58.94 23.62-27.21 15.86-49.45 38.82l-98.28-41-36.37 63.69 85.04 63.29q-5 15.47-7.24 30.83-2.24 15.36-2.24 32.6 0 16.24 2.24 31.72t7.24 30.95l-85.04 64.05 36.37 63.69 98.28-41.76q22.24 23.48 49.57 39.34 27.34 15.86 58.82 23.86l12.76 105.28ZM481.28-340q58 0 99-41t41-99q0-58-41-99t-99-41q-58.76 0-99.38 41t-40.62 99q0 58 40.62 99t99.38 41ZM480-480Z" />
      </svg>
    ),
    fill: (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="24px"
        viewBox="0 -960 960 960"
        width="24px"
      >
        <path d="M428.46-71.87q-28.2 0-48.54-18.6-20.33-18.6-24.33-45.79l-9-66.24q-11.09-4.28-21.04-10.33-9.94-6.04-19.51-12.84l-61.76 26q-25.95 11.24-52.15 2.12-26.2-9.12-40.67-33.32l-51.55-90.37q-14.48-23.96-8.36-51.03 6.12-27.08 28.08-44.56l52.76-40q-.76-6.04-.76-11.58v-23.18q0-5.54.76-11.58l-52.76-39.76q-22.2-17.48-28.2-44.56-6-27.08 8.48-51.27l51.55-90.13q14.47-23.96 40.55-33.2 26.08-9.24 52.03 2l62.48 26q9.57-6.8 19.65-12.73 10.09-5.92 20.42-10.2l9-66.48q4-27.43 24.33-46.03 20.34-18.6 48.54-18.6h103.08q28.2 0 48.54 18.6 20.33 18.6 24.33 46.03l9 66.48q11.09 4.28 21.04 10.2 9.94 5.93 19.51 12.73l61.76-26q25.95-11.24 52.15-2t40.67 33.2l51.55 90.13q14.48 24.19 8.48 51.27-6 27.08-28.2 44.56l-53 39.76q.76 6.04.76 11.58V-480q0 6.04-.12 11.59-.12 5.54-1.64 11.58l53 39.76q22.2 17.48 28.2 44.56 6 27.08-8.48 51.27l-52.55 90.37q-14.47 23.96-40.55 33.2-26.08 9.24-52.03-2l-60.48-26q-9.57 6.8-19.65 12.84-10.09 6.05-20.42 10.33l-9 66.24q-4 27.19-24.33 45.79-20.34 18.6-48.54 18.6H428.46ZM481.28-340q58 0 99-41t41-99q0-58-41-99t-99-41q-58.76 0-99.38 41t-40.62 99q0 58 40.62 99t99.38 41Z" />
      </svg>
    ),
  },
};

interface NavElement extends React.HTMLAttributes<HTMLLIElement> {
  label: string;
  SVG: {
    outline: React.ReactNode;
    fill: React.ReactNode;
  };
  isActive?: boolean;
  href: Url;
}

/**
 * NavElement Component
 *
 * Renders a navigation element within a navigation bar.
 *
 * @param className Additional CSS classes for the navigation element.
 * @param label Label text for the navigation element.
 * @param isActive Whether the navigation element is active or not.
 * @param SVG SVG icons for the navigation element.
 * @param href URL for the navigation link.
 * @param props Additional HTML attributes to be passed to the li element.
 * @returns JSX.Element or React.HTMLAttributes<HTMLLIElement>.
 */
const NavElement = React.forwardRef<HTMLLIElement, NavElement>(
  ({ className, label, isActive = false, SVG, href, ...props }, ref) => (
    <li className={cn(className, "w-full z-50")} {...props} ref={ref}>
      <Link
        href={href}
        className="flex flex-col items-center gap-2 w-full h-16 justify-center fill-primary "
        aria-label={label}
      >
        {isActive ? (
          <>
            {SVG.fill}
            {/* <Small className="font-semibold max-w-full truncate overflow-hidden">
              {label}
            </Small> */}
          </>
        ) : (
          SVG.outline
        )}
      </Link>
    </li>
  )
);
NavElement.displayName = "NavElement";

interface NavProps extends React.HTMLAttributes<HTMLElement> {
  active?: "home" | "news" | "agenda" | "alert" | "settings" | undefined | null;
}

/**
 * Nav Component
 *
 * Renders a navigation bar with multiple navigation elements.
 *
 * @param active Currently active navigation item.
 * @param props Additional HTML attributes to be passed to the nav element.
 * @returns JSX.Element or React.HTMLAttributes<HTMLElement>.
 */
const Nav = React.forwardRef<HTMLElement, NavProps>(
  ({ active, ...props }, ref) => (
    <nav
      className="flex fixed bottom-0 left-0 bg-card  border-t border-border w-full rounded-t-3xl z-50"
      {...props}
      ref={ref}
    >
      <ul className="flex px-6 pb-4 flex-grow flex-shrink-0 ">
        <NavElement
          label="Menu"
          SVG={NavSVG.home}
          isActive={active == "home"}
          href="./"
        />
        <NavElement
          label="Actu"
          SVG={NavSVG.news}
          isActive={active == "news"}
          href="./news"
        />
        <NavElement
          label="Agenda"
          SVG={NavSVG.agenda}
          isActive={active == "agenda"}
          href="./agenda"
        />
        <NavElement
          label="Alertes"
          SVG={NavSVG.alert}
          isActive={active == "alert"}
          href="./alert"
        />
        <NavElement
          label="Paramètres"
          SVG={NavSVG.settings}
          isActive={active == "settings"}
          href="./settings"
        />
      </ul>
    </nav>
  )
);
Nav.displayName = "Nav";

export { Nav };
export type { NavProps };
